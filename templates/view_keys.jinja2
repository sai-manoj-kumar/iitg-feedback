{% extends "base.jinja2" %}

{% block formlinks %}
{% endblock formlinks %}

{% block body %}
    <div class="well">
        {% if error is defined %}
            <div class="alert alert-block alert-error">
                <h4>Error: {{ error }}</h4>
            </div>
        {% endif %}

        {% block keys_created %}
        {% endblock keys_created %}


        <div class="alert alert-block alert-info">
            <h4>The datastore contains {{ count }} Keys.</h4>
        </div>

        {% if keys is defined and count > 0 %}
            <table class="table table-striped table-bordered table-hover">
            <thead>
                <th>
                    Key
                </th>
                <th>
                    Is the feedback form Filled using this key?
                </th>
            </thead>
            {% for key in keys %}
                {% if not key.formFilled %}
                    <tr class="error">
                {% else %}
                    <tr class="success">
                {% endif %}
                    <td>
                        {{ key.keyPhrase }}
                    </td>
                    <td>
                        {% if key.formFilled %}
                            Yes
                        {% else %}
                            No
                        {% endif %}
                    </td>
                </tr>
            {% endfor %}
            <table>
        {% endif %}
    </div>

{% endblock body %}


